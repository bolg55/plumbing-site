---
import { fetchAPI } from '../../lib/api';

interface PostAttributes {
  slug: string;
  title: string;
  // Add other properties as necessary
}

interface Post {
  id: number;
  attributes: PostAttributes;
}

export async function getStaticPaths() {
  const resonse = await fetchAPI('/posts');
  const posts: Post[] = await resonse.data;

  return posts.map((post) => ({
    params: {
      slug: post.attributes.slug,
    },
    props: {
      post,
    },
  }));
}

const { post } = Astro.props;
---

<h1>Some title</h1>

<pre>{JSON.stringify(post,null,2)}</pre>
