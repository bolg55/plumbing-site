---
// library imports
import { Image } from '@astrojs/image/components';

// Component import
import Layout from './Layout.astro';

// utils import
import { formatDate } from '../utils';

const { frontmatter } = Astro.props;
const { title, description, publishedDate, author, tags, image } = frontmatter;
const date = formatDate(publishedDate);
---

<Layout {title} {description}>
  <header>
    <div class='container flex flex-col items-center space-y-2 my-16'>
      <h1 class='text-4xl font-bold'>{title}</h1>

      <p class='text-gray-500'>
        by {author} - {date}
      </p>
      <small>
        {
          tags.map((tag: string) => (
            <a
              href={`/category/${tag}/`}
              class='bg-gray-200 rounded px-2 py-1 mx-1'
            >
              {tag}
            </a>
          ))
        }
      </small>
    </div>
    <Image
      src={image.src}
      alt={image.alt}
      width={1200}
      height={600}
      format='avif'
      aspectRatio={16 / 9}
      class='rounded-lg mx-auto'
    />
  </header>

  <main class='container'>
    <div class='prose mx-auto items-center'>
      <slot />
    </div>
  </main>
</Layout>
